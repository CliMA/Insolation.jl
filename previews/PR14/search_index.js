var documenterSearchIndex = {"docs":
[{"location":"InsolationExamples/#Insolation-Examples","page":"Insolation Examples","title":"Insolation Examples","text":"","category":"section"},{"location":"InsolationExamples/","page":"Insolation Examples","title":"Insolation Examples","text":"These examples are from a homework assignment in ESE 101 at Caltech","category":"page"},{"location":"InsolationExamples/#Example-1","page":"Insolation Examples","title":"Example 1","text":"","category":"section"},{"location":"InsolationExamples/","page":"Insolation Examples","title":"Insolation Examples","text":"using CLIMAParameters\nusing CLIMAParameters.Planet\nstruct EarthParameterSet <: AbstractEarthParameterSet end\nconst param_set = EarthParameterSet()\n\ninclude(\"plot_insolation.jl\")\n\nγ0 = obliq_epoch(param_set)\nϖ0 = lon_perihelion(param_set)\ne0 = eccentricity_epoch(param_set)\n\ndays, lats, F0 = calc_day_lat_insolation(365, 180, param_set)\ntitle = format(\"g = {:.2f}, w = {:.2f}, e = {:.2f}\", γ0, ϖ0, e0) #hide\nplot_day_lat_insolation(days, lats, F0, \"YlOrRd\", title, \"insol_example1.png\")","category":"page"},{"location":"InsolationExamples/","page":"Insolation Examples","title":"Insolation Examples","text":"(Image: )","category":"page"},{"location":"InsolationExamples/#Example-2","page":"Insolation Examples","title":"Example 2","text":"","category":"section"},{"location":"InsolationExamples/","page":"Insolation Examples","title":"Insolation Examples","text":"using CLIMAParameters # hide\nusing CLIMAParameters.Planet # hide\nstruct EarthParameterSet <: AbstractEarthParameterSet end # hide\nconst param_set = EarthParameterSet() # hide\ninclude(\"plot_insolation.jl\") # hide\nγ0 = obliq_epoch(param_set) # hide\nϖ0 = lon_perihelion(param_set) # hide\ne0 = eccentricity_epoch(param_set) # hide\ndays, lats, F0 = calc_day_lat_insolation(365, 180, param_set) # hide\n\n# turn longitude of perihelion by 180°\nCLIMAParameters.Planet.lon_perihelion(::EarthParameterSet) = lon_perihelion_epoch(param_set) + π\nϖ1 = lon_perihelion(param_set)\ndays, lats, F1 = calc_day_lat_insolation(365, 180, param_set)\n\ntitle = format(\"g = {:.2f}, w = {:.2f}, e = {:.2f}\", γ0, ϖ1, e0) # hide\nplot_day_lat_insolation(days, lats, F1, \"YlOrRd\",  title, \"insol_example2a.png\")\ntitle = format(\"insolation diff: w' = {:.2f} - w = {:.2f}\", ϖ1,  ϖ0) # hide\nplot_day_lat_insolation(days, lats, F1-F0, \"PRGn\", title, \"insol_example2b.png\")","category":"page"},{"location":"InsolationExamples/","page":"Insolation Examples","title":"Insolation Examples","text":"(Image: ) (Image: )","category":"page"},{"location":"InsolationExamples/#Example-3","page":"Insolation Examples","title":"Example 3","text":"","category":"section"},{"location":"InsolationExamples/","page":"Insolation Examples","title":"Insolation Examples","text":"using CLIMAParameters # hide\nusing CLIMAParameters.Planet # hide\nstruct EarthParameterSet <: AbstractEarthParameterSet end # hide\nconst param_set = EarthParameterSet() # hide\ninclude(\"plot_insolation.jl\") # hide\nγ0 = obliq_epoch(param_set) # hide\nϖ0 = lon_perihelion(param_set) # hide\ne0 = eccentricity_epoch(param_set) # hide\ndays, lats, F0 = calc_day_lat_insolation(365, 180, param_set) # hide\n\n# perihelion back to normal. decrease γ to 22.0°\nCLIMAParameters.Planet.obliq_epoch(::EarthParameterSet) = deg2rad(22.0)\nγ1 = obliq_epoch(param_set)\ndays, lats, F2 = calc_day_lat_insolation(365, 180, param_set)\n\ntitle = format(\"g = {:.2f}, w = {:.2f}, e = {:.2f}\", γ1, ϖ0, e0) # hide\nplot_day_lat_insolation(days,lats,F2,\"YlOrRd\",  title, \"insol_example3a.png\")\ntitle = format(\"insolation diff: g' = {:.2f} - g = {:.2f}\", γ1, γ0) # hide\nplot_day_lat_insolation(days, lats, F2-F0, \"PRGn\", title, \"insol_example3b.png\")","category":"page"},{"location":"InsolationExamples/","page":"Insolation Examples","title":"Insolation Examples","text":"(Image: ) (Image: )","category":"page"},{"location":"InsolationExamples/#Example-4","page":"Insolation Examples","title":"Example 4","text":"","category":"section"},{"location":"InsolationExamples/","page":"Insolation Examples","title":"Insolation Examples","text":"using CLIMAParameters # hide\nusing CLIMAParameters.Planet # hide\nstruct EarthParameterSet <: AbstractEarthParameterSet end # hide\nconst param_set = EarthParameterSet() # hide\ninclude(\"plot_insolation.jl\") # hide\nγ0 = obliq_epoch(param_set) # hide\nϖ0 = lon_perihelion(param_set) # hide\ne0 = eccentricity_epoch(param_set) # hide\ndays, lats, F0 = calc_day_lat_insolation(365, 180, param_set) # hide\n\n# decrease γ further to 18.0°\nCLIMAParameters.Planet.obliq_epoch(::EarthParameterSet) = deg2rad(18.0)\nγ2 = obliq_epoch(param_set)\ndays, lats, F3 = calc_day_lat_insolation(365, 180, param_set)\n\ntitle = format(\"g = {:.2f}, w = {:.2f}, e = {:.2f}\", γ2, ϖ0, e0) # hide\nplot_day_lat_insolation(days,lats,F3,\"YlOrRd\", title, \"insol_example4a.png\")\ntitle = format(\"insolation diff: g' = {:.2f} - g = {:.2f}\", γ2, γ0) # hide\nplot_day_lat_insolation(days, lats, F3-F0, \"PRGn\", title, \"insol_example4b.png\")","category":"page"},{"location":"InsolationExamples/","page":"Insolation Examples","title":"Insolation Examples","text":"(Image: ) (Image: )","category":"page"},{"location":"InsolationExamples/#Example-5","page":"Insolation Examples","title":"Example 5","text":"","category":"section"},{"location":"InsolationExamples/","page":"Insolation Examples","title":"Insolation Examples","text":"using CLIMAParameters # hide\nusing CLIMAParameters.Planet # hide\nstruct EarthParameterSet <: AbstractEarthParameterSet end # hide\nconst param_set = EarthParameterSet() # hide\ninclude(\"plot_insolation.jl\") # hide\nγ0 = obliq_epoch(param_set) # hide\nϖ0 = lon_perihelion(param_set) # hide\ne0 = eccentricity_epoch(param_set) # hide\ndays, lats, F0 = calc_day_lat_insolation(365, 180, param_set) # hide\n\n# now change obliquity to 60.0°\nCLIMAParameters.Planet.obliq_epoch(::EarthParameterSet) = deg2rad(60.0)\nγ3 = obliq_epoch(param_set)\ndays, lats, F4 = calc_day_lat_insolation(365, 180, param_set)\n\ntitle = format(\"g = {:.2f}, w = {:.2f}, e = {:.2f}\", γ3, ϖ0, e0) # hide\nplot_day_lat_insolation(days,lats,F4,\"YlOrRd\", title, \"insol_example5a.png\")\ntitle = format(\"insolation diff: g' = {:.2f} - g = {:.2f}\", γ3, γ0) # hide\nplot_day_lat_insolation(days, lats, F4-F0, \"PRGn\", title, \"insol_example5b.png\")","category":"page"},{"location":"InsolationExamples/","page":"Insolation Examples","title":"Insolation Examples","text":"(Image: ) (Image: )","category":"page"},{"location":"InsolationExamples/#Example-6","page":"Insolation Examples","title":"Example 6","text":"","category":"section"},{"location":"InsolationExamples/","page":"Insolation Examples","title":"Insolation Examples","text":"using CLIMAParameters # hide\nusing CLIMAParameters.Planet # hide\nstruct EarthParameterSet <: AbstractEarthParameterSet end # hide\nconst param_set = EarthParameterSet() # hide\ninclude(\"plot_insolation.jl\") # hide\nγ0 = obliq_epoch(param_set) # hide\nϖ0 = lon_perihelion(param_set) # hide\ne0 = eccentricity_epoch(param_set) # hide\ndays, lats, F0 = calc_day_lat_insolation(365, 180, param_set) # hide\n\n# now change obliquity to 97.86°\nCLIMAParameters.Planet.obliq_epoch(::EarthParameterSet) = deg2rad(97.86)\nγ4 = obliq_epoch(param_set)\ndays, lats, F5 = calc_day_lat_insolation(365, 180, param_set)\n\ntitle = format(\"g = {:.2f}, w = {:.2f}, e = {:.2f}\", γ4, ϖ0, e0) # hide\nplot_day_lat_insolation(days,lats,F5,\"YlOrRd\", title, \"insol_example6a.png\")\ntitle = format(\"insolation diff: g' = {:.2f} - g = {:.2f}\", γ4, γ0) # hide\nplot_day_lat_insolation(days, lats, F5-F0, \"PRGn\", title, \"insol_example6b.png\")\n","category":"page"},{"location":"InsolationExamples/","page":"Insolation Examples","title":"Insolation Examples","text":"(Image: ) (Image: )","category":"page"},{"location":"library/#Application-Programming-Interface-(APIs)","page":"APIs","title":"Application Programming Interface (APIs)","text":"","category":"section"},{"location":"library/","page":"APIs","title":"APIs","text":"Documenting the public user interface","category":"page"},{"location":"library/#Zenith-Angle","page":"APIs","title":"Zenith Angle","text":"","category":"section"},{"location":"library/","page":"APIs","title":"APIs","text":"Modules = [Insolation]\nPrivate = false\nPages   = [\"ZenithAngleCalc.jl\"]","category":"page"},{"location":"library/#Insolation.daily_zenith_angle-Union{Tuple{FT}, Tuple{Dates.DateTime,FT,CLIMAParameters.AbstractParameterSet}} where FT<:Real","page":"APIs","title":"Insolation.daily_zenith_angle","text":"daily_zenith_angle(date::DateTime,\n                   latitude::FT,\n                   param_set::APS) where {FT <: Real}\n\nreturns the daily averaged zenith angle and earth-sun distance at a particular latitude given the date and orbital parameters obliquity, longitude of perihelion, and eccentricity param_set is an AbstractParameterSet from CLIMAParameters.jl\n\n\n\n\n\n","category":"method"},{"location":"library/#Insolation.instantaneous_zenith_angle-Union{Tuple{FT}, Tuple{Dates.DateTime,FT,FT,CLIMAParameters.AbstractParameterSet}} where FT<:Real","page":"APIs","title":"Insolation.instantaneous_zenith_angle","text":"instantaneous_zenith_angle(date::DateTime,\n                           longitude::FT,\n                           latitude::FT,\n                           param_set::APS) where {FT <: Real}\n\nreturns the zenith angle and earth-sun distance at a particular longitude and latitude on the given date (and time UTC) given orbital parameters: obliquity, longitude of perihelion, and eccentricity param_set is an AbstractParameterSet from CLIMAParameters.jl\n\n\n\n\n\n","category":"method"},{"location":"library/#Insolation","page":"APIs","title":"Insolation","text":"","category":"section"},{"location":"library/","page":"APIs","title":"APIs","text":"Modules = [Insolation]\nPrivate = false\nPages   = [\"InsolationCalc.jl\"]","category":"page"},{"location":"library/#Insolation.insolation-Union{Tuple{FT}, Tuple{FT,FT,CLIMAParameters.AbstractParameterSet}} where FT<:Real","page":"APIs","title":"Insolation.insolation","text":"insolation(θ::FT, d::FT, param_set::APS) where {FT <: Real}\n\nreturns the insolation given the zenith angle and earth-sun distance param_set is an AbstractParameterSet from CLIMAParameters.jl\n\n\n\n\n\n","category":"method"},{"location":"library/#Insolation.solar_flux_and_cos_sza-Union{Tuple{FT}, Tuple{Dates.DateTime,FT,FT,CLIMAParameters.AbstractParameterSet}} where FT<:Real","page":"APIs","title":"Insolation.solar_flux_and_cos_sza","text":"solar_flux_and_cos_sza(date::DateTime,\n                  longitude::FT,\n                  latitude::FT,\n                  param_set::APS) where {FT <: Real}\n\nreturns the top-of-atmosphere (TOA) solar flux, i.e.  the total solar irradiance (TSI) weighted by the earth-sun distance and cos(solar zenith angle) for input to RRTMGP.jl param_set is an AbstractParameterSet from CLIMAParameters.jl\n\n\n\n\n\n","category":"method"},{"location":"ZenithAngleEquations/#Zenith-Angle-Equations","page":"Zenith Angle Equations","title":"Zenith Angle Equations","text":"","category":"section"},{"location":"ZenithAngleEquations/","page":"Zenith Angle Equations","title":"Zenith Angle Equations","text":"These equations are from Tapio Schneiders's textbook draft chapter 3.","category":"page"},{"location":"ZenithAngleEquations/#Mean-Anomaly-(3.6)","page":"Zenith Angle Equations","title":"Mean Anomaly (3.6)","text":"","category":"section"},{"location":"ZenithAngleEquations/","page":"Zenith Angle Equations","title":"Zenith Angle Equations","text":"beginaligned\nbeta = sqrt1-e^2 \nM_V0 = -varpi_0 + left(e+frac14e^3 right) (1+beta)sin(varpi_0) - frac12e^2 left(frac12+beta right) sin(2varpi_0) + frac14e^3 left(frac13+beta right) sin(3varpi_0) \nt_V = fracY_a (M_V0 - M_0)2pi + t_0 \nM_V = -varpi + left(e+frac14e^3 right) (1+beta)sin(varpi) - frac12e^2 left(frac12+beta right) sin(2varpi) + frac14e^3 left(frac13+beta  right) sin(3varpi) \nM = frac2pi (t - t_V)Y_a + M_V\nendaligned","category":"page"},{"location":"ZenithAngleEquations/","page":"Zenith Angle Equations","title":"Zenith Angle Equations","text":"where e is the oribital eccentricity, t_0 is the time at the epoch (J2000), defined as January 1, 2000 at 12hr UTC,  M_0 is the mean anomaly at the epoch, varpi_0 is the longitude of perihelion at the epoch, and Y_a is the length of the anomalistic year.","category":"page"},{"location":"ZenithAngleEquations/#True-Anomaly-(3.8)","page":"Zenith Angle Equations","title":"True Anomaly (3.8)","text":"","category":"section"},{"location":"ZenithAngleEquations/","page":"Zenith Angle Equations","title":"Zenith Angle Equations","text":"A = M + left( 2e - frac14e^3 right) sin(M) + frac54 e^2 sin(2M) + frac1312 e^3 sin(3M)","category":"page"},{"location":"ZenithAngleEquations/#True-Longitude-(3.9)","page":"Zenith Angle Equations","title":"True Longitude (3.9)","text":"","category":"section"},{"location":"ZenithAngleEquations/","page":"Zenith Angle Equations","title":"Zenith Angle Equations","text":"L = A + varpi","category":"page"},{"location":"ZenithAngleEquations/#Declination-(3.16)","page":"Zenith Angle Equations","title":"Declination (3.16)","text":"","category":"section"},{"location":"ZenithAngleEquations/","page":"Zenith Angle Equations","title":"Zenith Angle Equations","text":"sin delta = sin gamma sin L","category":"page"},{"location":"ZenithAngleEquations/","page":"Zenith Angle Equations","title":"Zenith Angle Equations","text":"where gamma is the orbital obliquity.","category":"page"},{"location":"ZenithAngleEquations/#Hour-Angle-(3.17)","page":"Zenith Angle Equations","title":"Hour Angle (3.17)","text":"","category":"section"},{"location":"ZenithAngleEquations/","page":"Zenith Angle Equations","title":"Zenith Angle Equations","text":"eta = frac2pi (t-t_s)T_d","category":"page"},{"location":"ZenithAngleEquations/","page":"Zenith Angle Equations","title":"Zenith Angle Equations","text":"where t_s is the time of local solar noon and T_d is the length of a day.","category":"page"},{"location":"ZenithAngleEquations/#Zenith-Angle-(3.18)","page":"Zenith Angle Equations","title":"Zenith Angle (3.18)","text":"","category":"section"},{"location":"ZenithAngleEquations/","page":"Zenith Angle Equations","title":"Zenith Angle Equations","text":"cos theta = cos phi cos delta cos eta + sin phi sin delta","category":"page"},{"location":"ZenithAngleEquations/","page":"Zenith Angle Equations","title":"Zenith Angle Equations","text":"where phi is the latitude.","category":"page"},{"location":"ZenithAngleEquations/#Sunrise/Sunset-Angle-(3.19)","page":"Zenith Angle Equations","title":"Sunrise/Sunset Angle (3.19)","text":"","category":"section"},{"location":"ZenithAngleEquations/","page":"Zenith Angle Equations","title":"Zenith Angle Equations","text":"cos eta_d = - tan phi tan delta","category":"page"},{"location":"ZenithAngleEquations/#Daily-averaged-Zenith-Angle-(3.20)","page":"Zenith Angle Equations","title":"Daily-averaged Zenith Angle (3.20)","text":"","category":"section"},{"location":"ZenithAngleEquations/","page":"Zenith Angle Equations","title":"Zenith Angle Equations","text":"overlinecos theta = frac1pi left( eta_d sin phi sin delta + cos phi cos delta cos eta_d right)","category":"page"},{"location":"ZenithAngleEquations/#Azimuth-Angle","page":"Zenith Angle Equations","title":"Azimuth Angle","text":"","category":"section"},{"location":"ZenithAngleEquations/","page":"Zenith Angle Equations","title":"Zenith Angle Equations","text":"zeta = frac3pi2 - arctan left( fracsin etacos eta sin phi - tan delta cos phi right)","category":"page"},{"location":"ZenithAngleEquations/","page":"Zenith Angle Equations","title":"Zenith Angle Equations","text":"where the azimuth is defined as 0 to the East and increasing counter-clockwise, such that at local solar noon when eta=0, then zeta = frac3pi2.","category":"page"},{"location":"ZenithAngleEquations/#Earth-Sun-Distance-(3.1)","page":"Zenith Angle Equations","title":"Earth-Sun Distance (3.1)","text":"","category":"section"},{"location":"ZenithAngleEquations/","page":"Zenith Angle Equations","title":"Zenith Angle Equations","text":"d = frac1-e^21+ecos A d_0","category":"page"},{"location":"ZenithAngleEquations/","page":"Zenith Angle Equations","title":"Zenith Angle Equations","text":"where d_0 is 1 AU.","category":"page"},{"location":"#Insolation.jl","page":"Home","title":"Insolation.jl","text":"","category":"section"},{"location":"","page":"Home","title":"Home","text":"CurrentModule = Insolation","category":"page"},{"location":"","page":"Home","title":"Home","text":"Insolation.jl is a library that calculates the zenith angle and insolation  at a given point on Earth (lat, lon) for a given date/time and orbital configuration  (obliquity, eccentricity, and longitude of perihelion). The library is split between two files, ZenithAngleCalc.jl which calculates the zenith angle, azimuth angle, and Earth-sun distance,  and InsolationCalc.jl which calculates the insolation given a zenith angle.","category":"page"},{"location":"","page":"Home","title":"Home","text":"The zenith angle and insolation can both be calculated either as instantaneous  values or as daily averaged values. The functions in ZenithAngleCalc.jl are  overwritten to accept a variety of inputs, either calculating the orbital parameters  given a DateTime object, or prescribing the orbital parameters as input.","category":"page"},{"location":"","page":"Home","title":"Home","text":"The equations used for calculating orbital parameters are from Tapio Schneider's textbook draft.  See Zenith Angle Equations for more details.","category":"page"},{"location":"","page":"Home","title":"Home","text":"This package has been designed to be flexible for non-Earth settings as well. This specific functionality has not yet been implemented [as of 22 Feb 2021].","category":"page"},{"location":"#Authors","page":"Home","title":"Authors","text":"","category":"section"},{"location":"","page":"Home","title":"Home","text":"Insolation.jl is being developed by the Climate Modeling Alliance. Specifically it has been developed to be used by RRTMGP.jl  and the ClimateMachine.jl.","category":"page"}]
}
